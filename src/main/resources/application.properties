# --- App ---
spring.application.name=MrPot
spring.profiles.active=${SPRING_PROFILES_ACTIVE:dev}

# --- Server ---
server.port=${PORT:8080}
server.shutdown=graceful
spring.mvc.problemdetails.enabled=true

# --- OpenAPI / Swagger UI ---
# UI at /swagger ; JSON at /v3/api-docs ; YAML at /v3/api-docs.yaml
springdoc.swagger-ui.path=/swagger
springdoc.api-docs.path=/v3/api-docs
springdoc.default-consumes-media-type=application/json
springdoc.default-produces-media-type=application/json
springdoc.writer-with-default-pretty-printer=true
springdoc.swagger-ui.operationsSorter=alpha
springdoc.swagger-ui.tagsSorter=alpha
springdoc.show-actuator=true

# --- DataSource (Supabase Postgres) ---
spring.datasource.url=jdbc:postgresql://db.yiqrlnaxgydxgqxywxop.supabase.co:5432/postgres?sslmode=require
spring.datasource.username=postgres
spring.datasource.password=M73Dxfm3b

# Driver class (standard for PostgreSQL)
spring.datasource.driver-class-name=org.postgresql.Driver

# JPA/Hibernate configuration (optional, adjust as needed)
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect

# --- Kafka (producer/consumer baseline) ---
spring.kafka.bootstrap-servers=${KAFKA_BOOTSTRAP_SERVERS:localhost:9092}
spring.kafka.client-id=${spring.application.name}
spring.kafka.properties.request.timeout.ms=30000
spring.kafka.consumer.group-id=${KAFKA_CONSUMER_GROUP:${spring.application.name}-grp}
spring.kafka.consumer.auto-offset-reset=latest
spring.kafka.consumer.enable-auto-commit=false
spring.kafka.producer.acks=all
spring.kafka.producer.compression-type=snappy

# --- Actuator ---
management.endpoints.web.exposure.include=health,info,prometheus
management.endpoint.health.show-details=when_authorized

# --- LangChain4j (OpenAI example; set your keys via env) ---
langchain4j.open-ai.api-key=${OPENAI_API_KEY:}
langchain4j.open-ai.chat-model.name=${OPENAI_MODEL:gpt-4o-mini}
langchain4j.open-ai.chat-model.temperature=${OPENAI_TEMPERATURE:0.2}
langchain4j.open-ai.max-output-tokens=${OPENAI_MAX_OUTPUT_TOKENS:256}
# pgvector usage will be configured in your beans/repository layer

# --- CORS (optional quick toggle for local dev) ---
# Optionally override via CORS_ALLOWED_ORIGINS (comma-separated) for multiple links
# For example: CORS_ALLOWED_ORIGINS=https://app.example.com,https://admin.example.com
cors.allowed-origins=${CORS_ALLOWED_ORIGINS:}
spring.web.cors.allowed-origin-patterns=*
spring.web.cors.allowed-methods=GET,POST,PUT,PATCH,DELETE,OPTIONS
spring.web.cors.allowed-headers=*
spring.web.cors.allow-credentials=true
spring.web.cors.max-age=3600
